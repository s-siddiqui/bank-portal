"use strict";(self.webpackChunkmf_transactions=self.webpackChunkmf_transactions||[]).push([[498],{929:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;const i=r(1085),o=(n(r(7381)),r(7939));t.Text=({style:e,children:t,...r})=>(0,i.jsx)(o.Text,{style:[{fontSize:16,color:"#333"},e],...r,children:t})},931:function(e,t,r){var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&i(t,e,r[a]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Shimmer=void 0;const l=r(1085),s=a(r(7381)),c=r(7939);t.Shimmer=({style:e})=>{const t=(0,s.useRef)(new c.Animated.Value(-100)).current;return(0,s.useEffect)(()=>{c.Animated.loop(c.Animated.timing(t,{toValue:300,duration:1e3,useNativeDriver:!0})).start()},[]),(0,l.jsx)(c.View,{style:[d.container,e],children:(0,l.jsx)(c.Animated.View,{style:[d.shimmerOverlay,{transform:[{translateX:t}]}]})})};const d=c.StyleSheet.create({container:{backgroundColor:"#e0e0e0",overflow:"hidden",position:"relative"},shimmerOverlay:{width:100,height:"100%",backgroundColor:"rgba(255,255,255,0.6)",position:"absolute"}})},1280:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;const n=r(2621);t.client=new n.ApolloClient({link:new n.HttpLink({uri:"https://bank-portal-h7pw.onrender.com/",fetch}),cache:new n.InMemoryCache})},1432:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionHistory=t.BackButton=void 0;const i=r(4848),o=(n(r(318)),r(2027)),a=r(1989),l=window.eventBus;t.BackButton=()=>(0,i.jsx)(o.TouchableOpacity,{style:s.backBtn,onPress:()=>window.history.back(),children:(0,i.jsx)(a.Text,{style:s.backText,children:"â† Back"})});t.TransactionHistory=({transactions:e,selectedId:t,onSelect:r})=>{if(0===e.length)return(0,i.jsx)(a.Text,{children:"No transactions available."});return(0,i.jsxs)(a.View,{style:s.table,children:[(0,i.jsxs)(a.View,{style:s.headerRow,children:[(0,i.jsx)(a.Text,{style:s.headerCell,children:"Txn Id"}),(0,i.jsx)(a.Text,{style:s.headerCell,children:"Type"}),(0,i.jsx)(a.Text,{style:s.headerCell,children:"Amount"}),(0,i.jsx)(a.Text,{style:s.headerCell,children:"Date"})]}),e.map(e=>(0,i.jsxs)(o.Pressable,{style:[s.row,e.id===t&&s.selectedRow],onPress:()=>{return t=e.id,r(t),void l.emit("navigate","/transactions");var t},children:[(0,i.jsx)(a.Text,{style:s.cell,children:e.id}),(0,i.jsx)(a.Text,{style:s.cell,children:e.type}),(0,i.jsxs)(a.Text,{style:s.cell,children:["$",e.amount]}),(0,i.jsx)(a.Text,{style:s.cell,children:new Date(e.date).toLocaleDateString()})]},e.id))]})};const s=o.StyleSheet.create({table:{flex:1,marginVertical:10},headerRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#ccc",paddingVertical:6},row:{flexDirection:"row",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"#eee"},selectedRow:{backgroundColor:"#eef6ff"},headerCell:{flex:1,fontWeight:"bold",textAlign:"left"},cell:{flex:1,textAlign:"left"},backBtn:{backgroundColor:"#eee",padding:6,borderRadius:5,marginBottom:10,alignSelf:"flex-start"},backText:{fontSize:14}})},1470:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const i=r(1085),o=(n(r(7381)),r(7939));t.Card=({children:e,style:t,...r})=>(0,i.jsx)(o.View,{style:[a.card,t],...r,children:e});const a=o.StyleSheet.create({card:{backgroundColor:"#fff",padding:15,borderRadius:10,shadowColor:"#000",shadowOpacity:.1,shadowOffset:{width:0,height:2},shadowRadius:6,elevation:2,marginBottom:10}})},1989:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2244),t),i(r(1470),t),i(r(929),t),i(r(6999),t),i(r(931),t)},2244:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const i=r(1085),o=(n(r(7381)),r(7939));t.Button=({label:e,onPress:t,style:r})=>(0,i.jsx)(o.Pressable,{onPress:t,style:[a.button,r],children:(0,i.jsx)(o.Text,{style:a.label,children:e})});const a=o.StyleSheet.create({button:{backgroundColor:"#007bff",padding:10,borderRadius:6,alignItems:"center"},label:{color:"#fff",fontWeight:"bold"}})},4262:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5074),t),i(r(9749),t),i(r(1432),t)},5074:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionDetailShimmer=t.TransactionHistoryShimmer=void 0;const i=r(4848),o=(n(r(318)),r(2027)),a=r(2027),l=r(1989);t.TransactionHistoryShimmer=()=>(0,i.jsxs)(o.View,{style:s.table,children:[(0,i.jsx)(o.View,{style:s.headerRow,children:[...Array(4)].map((e,t)=>(0,i.jsx)(l.Shimmer,{style:s.headerCellShimmer},t))}),[...Array(5)].map((e,t)=>(0,i.jsx)(o.View,{style:s.row,children:[...Array(4)].map((e,t)=>(0,i.jsx)(l.Shimmer,{style:s.cellShimmer},t))},t))]});t.TransactionDetailShimmer=()=>(0,i.jsxs)(o.View,{style:s.detailContainer,children:[(0,i.jsx)(l.Shimmer,{style:s.detailHeader}),[...Array(5)].map((e,t)=>(0,i.jsx)(l.Shimmer,{style:s.detailLine},t)),(0,i.jsx)(l.Shimmer,{style:s.buttonShimmer})]});const s=a.StyleSheet.create({table:{flex:1,marginVertical:10},headerRow:{flexDirection:"row",paddingVertical:6,gap:8},row:{flexDirection:"row",paddingVertical:8,gap:8},headerCellShimmer:{flex:1,height:14,borderRadius:4},cellShimmer:{flex:1,height:12,borderRadius:4},detailContainer:{padding:10,gap:10,marginTop:10},detailHeader:{width:200,height:20,borderRadius:6},detailLine:{width:"90%",height:14,borderRadius:4},buttonShimmer:{width:120,height:36,borderRadius:6,marginTop:12}})},6999:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const i=r(1085),o=(n(r(7381)),r(7939));t.View=({style:e,children:t,...r})=>(0,i.jsx)(o.View,{style:[{padding:10},e],...r,children:t})},7446:function(e,t,r){var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&i(t,e,r[a]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const l=r(4848),s=a(r(318)),c=r(2621),d=r(2027),u=r(1989),h=r(4262),f=r(1280),y=r(8247),p=()=>{const{data:e,loading:t,error:r}=(0,c.useQuery)(y.GET_TRANSACTIONS),[n,i]=(0,s.useState)(null);if((0,s.useEffect)(()=>{const e=window.__lastSelectedTransactionId;e&&i(e);const t=e=>{console.log("ðŸŽ¯ Received transactionSelected:",e),window.__lastSelectedTransactionId=e,i(e)};return window.eventBus.on("transactionSelected",t),()=>{window.eventBus.off("transactionSelected",t)}},[]),r)return(0,l.jsx)(u.View,{children:(0,l.jsx)(u.Text,{children:"Error loading transactions"})});const o=e?.transactions||[],a=o?.find(e=>e.id===n)||null;return(0,l.jsxs)(u.View,{style:m.container,children:[(0,l.jsx)(h.BackButton,{}),t?(0,l.jsx)(h.TransactionHistoryShimmer,{}):(0,l.jsx)(h.TransactionHistory,{transactions:o,selectedId:n,onSelect:i}),t?(0,l.jsx)(h.TransactionDetailShimmer,{}):(0,l.jsx)(h.TransactionDetail,{transaction:a})]})};t.default=()=>(0,l.jsx)(c.ApolloProvider,{client:f.client,children:(0,l.jsx)(p,{})});const m=d.StyleSheet.create({container:{flex:1,padding:10}})},8247:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GET_TRANSACTION_BY_ID=t.GET_TRANSACTIONS=void 0;const n=r(2621);t.GET_TRANSACTIONS=n.gql`
  query {
    transactions {
      id
      accountId
      type
      amount
      description
      date
    }
  }
`,t.GET_TRANSACTION_BY_ID=n.gql`
  query ($id: ID!) {
    transactions {
      id
      accountId
      type
      amount
      description
      date
    }
  }
`},9749:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionDetail=void 0;const i=r(4848),o=(n(r(318)),r(2027)),a=r(1989);t.TransactionDetail=({transaction:e})=>{if(!e)return(0,i.jsx)(a.Text,{style:l.empty,children:"Select a transaction to see details."});return(0,i.jsxs)(a.View,{style:l.container,children:[(0,i.jsx)(a.Text,{style:l.header,children:"Transaction Details"}),(0,i.jsxs)(a.Text,{children:["Transaction Id: ",e.id]}),(0,i.jsxs)(a.Text,{children:["Type: ",e.type]}),(0,i.jsxs)(a.Text,{children:["Amount: $",e.amount]}),(0,i.jsxs)(a.Text,{children:["Description: ",e.description]}),(0,i.jsxs)(a.Text,{children:["Date: ",new Date(e.date).toLocaleString()]}),"web"===o.Platform.OS?(0,i.jsx)(a.Button,{style:{width:"120px"},title:"Download CSV",label:"Download CSV",onPress:()=>{const t=`ID,Type,Amount,Description,Date\n${e.id},${e.type},${e.amount},${e.description},${e.date}`,r=new Blob([t],{type:"text/csv"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`transaction-${e.id}.csv`,i.click()}}):(0,i.jsx)(a.Button,{title:"Share",onPress:()=>{alert(`Sharing transaction: ${e.description}`)}})]})};const l=o.StyleSheet.create({container:{display:"flex",gap:10,flex:1,padding:10,marginTop:10},header:{fontSize:18,fontWeight:"bold",marginBottom:8},empty:{fontSize:14,marginVertical:10}})}}]);
//# sourceMappingURL=498.2604a0a24e5c4911dabd.js.map